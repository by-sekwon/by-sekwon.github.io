/* =================================================
   1. 상단 메뉴바 (Navbar)
================================================= */
.navbar,
.navbar.bg-body-tertiary {
  background-color: #000000 !important;
}

.navbar a,
.navbar-brand,
.navbar-nav .nav-link {
  color: #ffffff !important;
  font-weight: 500;
  letter-spacing: 0.5px;
}

.navbar a:hover,
.navbar-nav .nav-link.active,
.navbar-nav .nav-link:focus {
  color: #FFD700 !important;
}

/* =================================================
   2. 드롭다운 메뉴
================================================= */
.dropdown-menu {
  background-color: #1e1e1e !important;
  border: none;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

.dropdown-menu a {
  color: #ffffff !important;
  padding: 10px 18px;
}

.dropdown-menu a:hover {
  background-color: #333333 !important;
  color: #FFD700 !important;
}

/* =================================================
   3. 링크 & 버튼
================================================= */
a {
  color: #FFD700;
  text-decoration: none;
}

a:hover {
  color: #FFA500;
  text-decoration: underline;
}

.btn,
.btn-primary {
  background-color: #FFD700;
  border: none;
  color: #000000;
  font-weight: 600;
}

.btn:hover,
.btn:focus {
  background-color: #FFA500;
}

/* =================================================
   4. 표 (Tables)
================================================= */
table {
  border: 1px solid #444;
}

table th {
  background-color: #003366;
  color: #FFD700;
  font-weight: 600;
}

table td {
  background-color: #f9f9f9;
  color: #000000;
}

/* =================================================
   5. 코드 블록
================================================= */
pre code {
  background-color: #ffffff !important;
  color: #000000 !important;
  border-radius: 6px;
  padding: 10px;
  border: 1px solid #ddd;
}

code {
  background-color: #f7f7f7 !important;
  color: #000000 !important;
  padding: 2px 5px;
  border-radius: 4px;
  border: 1px solid #ddd;
}

/* =================================================
   6. 제목 스타일
================================================= */
h1, h2 {
  color: #003366;
  font-weight: 700;
}

h3 {
  color: #228B22 !important;
  font-weight: 700;
}

h4 {
  color: #00008B !important;
  font-weight: 600;
}

h5 {
  color: #800000 !important;
  font-weight: 600;
}

strong, b {
  color: #222222 !important;
  font-weight: 700;
}

/* =================================================
   7. 레이아웃 변수(권장): Quarto가 쓰는 변수로 폭 제어
   - 그리드 자체(grid-template-columns)는 건드리지 않음
================================================= */
:root{
  --quarto-body-width: 1200px;                         /* 본문 폭 */
  --quarto-sidebar-width: clamp(180px, 15vw, 280px);   /* 왼쪽 사이드바 폭 */
  --quarto-margin-width: 220px;                        /* 오른쪽 TOC 폭 */
  --quarto-gutter-width: 0.6rem;                       /* 컬럼 사이 간격 */
}

/* sticky가 깨지는 흔한 원인(overflow/transform) 방어 */
.page-columns,
#quarto-content,
main.content{
  overflow: visible !important;
  transform: none !important;
}

/* =================================================
   8. 왼쪽 Sidebar (배경 + 정렬)
   - 폭은 Quarto가 grid로 잡고, "박스는 100%"로 채움
================================================= */
#quarto-sidebar,
.sidebar.sidebar-navigation {
  width: 100% !important;
  min-width: 100% !important;
  background-color: #f3f7ff !important;
  border-right: 1px solid #d6e2ff;
}

/* 사이드바 내부 영역 */
#quarto-sidebar .sidebar-content,
.sidebar .sidebar-menu-container {
  padding: 6px 8px !important;
  background-color: #f3f7ff !important;
}

/* 메뉴 항목 */
.sidebar .nav-link {
  text-align: left !important;
  justify-content: flex-start !important;
  font-size: 0.92rem !important;
  line-height: 1.8 !important;
  padding: 8px 8px !important;
  color: #1f2d5c !important;
}

/* hover */
.sidebar .nav-link:hover {
  background-color: #e6eeff !important;
  color: #00008B !important;
}

/* 활성(현재 페이지) */
.sidebar .nav-link.active {
  background-color: #dbe6ff !important;
  border-left: 3px solid #FFD700 !important;
  padding-left: 6px !important;
}

/* 사이드바 제목 */
.sidebar-title {
  font-size: 0.95rem !important;
  font-weight: 700 !important;
  text-align: left !important;
  padding: 10px 8px !important;
  color: #1f2d5c !important;
}

/* =================================================
   9. 오른쪽 TOC(목차): 스크롤 내려도 계속 보이게
   - 가장 안정적인 방식: "오른쪽 컬럼(#quarto-margin-sidebar)"를 sticky
================================================= */
#quarto-margin-sidebar{
  display: block !important;
  position: sticky !important;
  top: 5.2rem !important;                       /* navbar 아래 */
  height: calc(100vh - 6.2rem) !important;      /* 화면 안에 고정 */
  overflow-y: auto !important;                  /* TOC가 길면 여기만 스크롤 */
  align-self: start !important;                 /* grid에서 위쪽 기준 */
  width: var(--quarto-margin-width) !important;
  background: #ffffff !important;               /* 배경 투명 방지(겹침 느낌 제거) */
  z-index: 10 !important;
}

/* TOC는 컬럼 안에서 일반 흐름(중복 sticky 금지) */
#TOC{
  position: static !important;
  max-height: none !important;
  overflow: visible !important;
  float: none !important;
  margin: 0 !important;
  width: 100% !important;
}

/* =================================================
   10. 반응형: 아주 작은 화면에서는 TOC 숨김(선택)
   - 992px는 너무 빨리 숨겨져서, 768px로 완화
================================================= */
@media (max-width: 768px) {
  #quarto-margin-sidebar { display: none !important; }
}